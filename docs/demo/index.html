<!DOCTYPE html>
<html>

<head>
  <title>mstime - Examples</title>
  <link rel="stylesheet" type="text/css" href="">

  <!-- Chartist Dependencies: CSS, JS - required for "mstime.msPluginChartist" -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
  <script src="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
  <style>.my-chart { width: 50vw; height: 30vh; }</style>

  <script>
    // https://github.com/Stuk/require1k/blob/master/require1k.min.js
    R = function (e, n, v1) { function t(e, o, u, a) { if (e.g) return o(e.e, e); var c = e.g = e.l, f = new XMLHttpRequest; f.onload = function (i, l) { function s() { l-- || o(n, e) } 200 == f.status || e.t ? (i = [], (e.t = e.t || f.response).replace(/(?:^|[^\w\$_.])require\s*\(\s*["']([^"']*)["']\s*\)/g, function (e, n) { i.push(n) }), l = i.length, i.map(function (o) { t(r(e.l, o), s, "." != o[0] ? c + "/../" : n, o) }), s()) : u ? t(e.n = r(u += "../", a), o, u, a) : (e.e = f, o(f, e)) }, e.t ? f.onload() : (f.open("GET", c, !0), f.send()) } function r(e, n, t) { if (e.e) throw e.e; return n ? (f.href = e, i.href = "." != n[0] ? "./node_modules/" + n : n, t = i.href + ".js", f.href = "", u[t] = u[t] || { l: t }) : e.n ? r(e.n) : (e[c] || (e.f || a("(function(require," + c + ",module){" + e.t + "\n})//# sourceURL=" + e.l))(function (n) { return r(r(e.l, n)) }, e[c] = {}, e), e[c]) } function o(e, n) { t(e.call ? { l: "", t: "" + e, f: e } : r("", e), function (t, o) { try { e = r(o) } catch (u) { t = u } n && n(t, e) }) } var u = {}, a = eval, c = "createElement", f = e[c]("base"), i = e[c]("a"); return e.head.appendChild(f), c = e.querySelector("script[data-main]"), c && o(c.dataset.main), c = "exports", o }(document);
  </script>
</head>

<body>
  <div id="mydiv" class=""></div>

  <!-- Chartist Container -->
  <div class="my-chart" data-mstime-id="timer1"></div>
  <div class="my-chart" data-mstime-id="timer2"></div>

  <script type="text/javascript">
    var global = window; // for "present" module.
    const dummyLoop = () => {
      let j = 0
      for (let i = 0; i < 9999999; i += 1) {
        j += 1
      }
    }
    R((require, module, exports) => {
      const msPluginTrimMean = require('../../dist/cjs/plugins/msPluginTrimMean');
      const msPluginChartist = require('../../dist/cjs/plugins/msPluginChartist');
      const mstime = require('../../dist/cjs/index');

      mstime.config({
        consoleTime: true, // enable: console.time()
      })

      mstime.plugins([{
        plugin: mstime.msPluginUseLocalStorage
      }, {
        plugin: msPluginTrimMean
      }, {
        plugin: msPluginChartist
      }])

      window.clear = () => {
        mstime.clear('timer1');
        mstime.clear('timer2');
      }

      window.exec = () => {
        mstime.start('timer1');
        dummyLoop()
        console.log('timer1 - data: ', mstime.end('timer1'));

        mstime.start('timer2');
        dummyLoop()
        mstime.end('timer2')
      }
      window.exec();
    })
  </script>


  <p>
    Example: Execution Time of a dummy for-loop.
    <p />(Open Web Inspector to see console logs)
    <div>
      <button onclick="javascript: window.clear(); window.exec()">Clear Data</button>
      <button onclick="javascript: window.exec()">Run & Measure</button>
    </div>
    <p><a href="https://github.com/ngduc/mstime">Back to Github Repo</a></p>
  </p>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-127037248-1"></script>
  <script>window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date()); gtag('config', 'UA-127037248-1');</script>
</body>

</html>
